<!DOCTYPE html>
<html lang="en">
    <head>
        <link href="https://fonts.googleapis.com/css?family=Dancing+Script:400,700|Open+Sans|Poiret+One&display=swap" rel="stylesheet">
            <link href="/style/tech-doc.css" rel="stylesheet"/>
            <meta name="viewport" content="width=device-width, initial-scale=1">
            </meta>
        </link>
    </head>
    <body class="themeFive">
        <nav id="navbar">

            <div class="navlinks">
	            <h2>
	             	Projects
	            </h2>
                <a class="nav-link" href="#Random_Quote_Machine" onclick="closeDrawer()">
                    Random Quote Machine
                </a>
                <div class="nav-space">
                </div>
                <a class="nav-link" href="#Markdown_Editor" onclick="closeDrawer()">
                    Markdown Editor
                </a>
                <div class="nav-space">
                </div>
                <a class="nav-link" href="#Drum_Machine" onclick="closeDrawer()">
                    Drum Machine
                </a>
                <div class="nav-space">
                </div>
                <a class="nav-link" href="#Pomodoro_Clock" onclick="closeDrawer()">
                    Pomodoro Clock
                </a>
                <div class="nav-space">
                </div>
                <a class="nav-link" href="#Calculator" onclick="closeDrawer()">
                    Calculator
                </a>
            </div>
            <div class="navdrawer" id="navdrawer">
            	 <i class="fas fa-caret-right" id="drawer-button" state="closed" onclick="drawerClick(event);"></i>
            </div>
            <script>

            	function drawerClick (event){
            		let state = event.target.getAttribute("state")
            		console.log("drawerClick targetState is " + state);
            		if(state=='open'){
            			closeDrawer(event.target)
            			
            		}
            		else{
            			openDrawer(event.target)
            			
            		}
            	}

            	/**
            	* allowed a drawer to be passed in to accomidate click events. 
            	* save a look up the drawer if the event already has it. 
            	*/
            	function openDrawer(drawer){

            		if(!drawer)
            			drawer = document.getElementById('navdrawer');

            		let navbar = document.getElementById('navbar')
            		let button = document.getElementById('drawer-button')

            		console.log("open: navbar width is : " + navbar.offsetWidth);

            		navbar.style.left =  "0px";
            		button.style.transform = "rotate(180deg)"
            		drawer.setAttribute('state', 'open')
            	}

            	/**
            	* allowed a drawer to be passed in to accomidate click events. 
            	* save a look up the drawer if the event already has it. 
            	*/
            	function closeDrawer(drawer){
            		let navdrawer = document.getElementById('navdrawer')
            		let navbar = document.getElementById('navbar')
            		let button = document.getElementById('drawer-button')
					if(!drawer)
            			drawer = document.getElementById('navdrawer');

            		console.log("close: navbar width is : " + navbar.offsetWidth);
            		console.log("close: dawer width is : " + navdrawer.offsetWidth);
            		navbar.style.left = -(navbar.offsetWidth - navdrawer.offsetWidth) + "px";
            		button.style.transform = "rotate(0deg)";
            		drawer.setAttribute('state', 'close')
            	}
            </script>
        </nav>
        <main class="outerDiv " id="main-doc" onclick="closeDrawer()">
            <h1>
            	Microservices and APIs
            </h1>
            <section class="main-section" id="Random_Quote_Machine">
                <header>
                    Random Quote Machine
                </header>
                <p>
                    This was the first project for the Front End Libraries certification. The work is pretty simple. I only had to find an API that was accessable over CORS. I elected not to use Redux for any state management.
                </p>
                <p>
                    As first projects go, the experience was good. I had a bit of work figuring out how to use jQuery to do an async api call. I never did get into promises, which is work for future projects. I also began to stratch the surface with Bootstrap though not to any significant degree.
                </p>
                <p>
                    What follows is the first Mixin I wrote. It's very basic and I find that I don't use it anymore, probably because I've not had any problems with border raidus across browsers yet.
                </p>
                <pre><code>
@mixin border-radius($x){ 
  -webkit-border-radius: $x;
  -moz-border-radius: $x;
  -ms-border-radius: $x;
  border-radius: $x;
}

</code></pre>
                <p>
                    The technology list employed in this project includes:
                </p>
                <ul>
                    <li>
                        HTML5
                    </li>
                    <li>
                        CSS and SCSS
                    </li>
                    <li>
                        ES6
                    </li>
                    <li>
                        React
                    </li>
                </ul>
            </section>
            <section class="main-section" id="Markdown_Editor">
                <header>
                    Markdown Editor
                </header>
                <p>
                    This was my second project along the road to Front End Library certification. My understanding of React was expanded greatly in this project and it's where I built my first reusable component with my Windowing capabilities.
                </p>
                <p>
                    Initially I just used the React state management for most of the interactivity, but re-engineered the project to use Redux after the Drum Machine project.
                </p>
                <p>
                    The most interesting parts of the project actually came during the re-engineering effort. It was during this period that I extracted out the expand/shrink fucntions out of CSS and moved it into the Redux state machine cycle. I had the idea that I could dispatch an event on one window that all windows would observe, then pass a state object that either expands the window or hides the window (when maximizing), or puts all the windows back to the orignial state.
                </p>
                <pre><code>WindowComponent = connect(
  function mapStateToProps(state, ownProps){

    let fullSize = state.windows[ownProps.id].fullSize;
    let styleClass = "";

    if(!state.windows.fullSize){
      styleClass = "window col-md-" + state.windows[ownProps.id].width
    }else{
      if(fullSize){
        styleClass = "window col-md-12"
      }else{
        styleClass = "window windowHide"
      }
    }

    let toReturn = {
      width: state.windows[ownProps.id].width,
      fullSize: fullSize,
      styleClass: styleClass
    }
    return toReturn
  },
  function mapDispatchToProps(dispatch){
    return{
      resizeWindow: (id, width) => {
        dispatch(createResizeAction(id, width))
      }
    }
  }, null,  {forwardRef: true}
)(WindowComponent)

</code></pre>
            </section>
            <section class="main-section" id="Drum_Machine">
                <header>
                    Drum Machine
                </header>
                <p>
                    paragraph 1
                </p>
                <p>
                    paragraph 2
                </p>
                <code>
                    code section
                </code>
                <ul>
                    <li>
                        list element
                    </li>
                </ul>
            </section>
            <section class="main-section" id="Pomodoro_Clock">
                <header>
                    Pomodoro Clock
                </header>
                <p>
                    At this point I still hadn't implented any state managment with Redux. I struggled to understand the API and the information within the course work was so bare bones that it really just pointed in a direction and expected me to go and do further research.
                </p>
                <p>
                    I set about to pick up the pieces I had been ignoring in the previsous projects. It was in this phase when the API finally clicked for me. I think it finally clicked for me when I was reading on Higher Order Compoents (HOC) as it relates to currying and all of a sudden the React.Component.connect method made sense to me. It was the result of this that I was able to use the connect method to create HOCs that I could configure through the state object. Below is an example of one such HOC.
                </p>
                <pre><code>
const TimingButton = (props)=>{
  let className = "fa-"+props.label+"-circle"
  return(
    <button className="button lengthButton " 
      id={props.name} 
      disabled={props.timing} 
      onClick={props.action}>
      <i className={"fas " + className}></i>
    </button>
  )}; 

const SessionDecrementButton = connect(
  state =>({timing: state.timing, label: "minus"}),
  dispatch => ({action: () =>  { dispatch({type:DEC_SESSION})}})
)(TimingButton)

const SessionIncrementButton = connect(
  state =>({timing: state.timing, label: "plus"}),
  dispatch => ({action: () =>  { dispatch({type:INC_SESSION})}})
)(TimingButton)

</code></pre>
                <p>
                    As you can see the TimingButton is wrapped by the HOC generated by the connect function which ties a specific dispatch to the clicking of the button.
                </p>
                <p>
                    as well as optimizing the my Component connections to Redux to minimize component updates.
                </p>
                <ul>
                    <li>
                        list element
                    </li>
                </ul>
            </section>
            <section class="main-section" id="Calculator">
                <header>
                    Calculator
                </header>
                <p>
                    paragraph 1
                </p>
                <p>
                    paragraph 2
                </p>
                <code>
                    code section
                </code>
                <ul>
                    <li>
                        list element
                    </li>
                </ul>
            </section>
        </main>
    </body>
    <script>
        window.onload = () => {
		document.getElementById("main-doc").scrollTo(1,1);
	}
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/default.min.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js">
        </script>
        <script>
            hljs.initHighlightingOnLoad();
        </script>
    </link>
</html>